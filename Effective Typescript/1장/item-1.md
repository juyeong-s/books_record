# 타입스크립트와 자바스크립트의 관계 이해하기

타입스크립트는 문법적으로 자바스크립트의 상위 집합이다. 자바스크립트 프로그램에 문법 오류가 없다면, 유효한 타입스크립트 프로그램이라고 할 수 있다. 그런데 자바스크립트 프로그램에 어떤 이슈가 존재한다면 문법 오류가 아니라도 타입 체커에게 지적당할 가능성이 높다.

그러나 문법의 유효성과 동작의 이슈는 독립적인 문제이다. 타입스크립트는 여전히 코드를 파싱하고 자바스크립트로 변환할 수 있다.

자바스크립트 파일이 .js (or .jsx) 확장자를 사용하는 방면, 타입스크립트는 .ts (or .tsx)를 사용한다. 타입스크릡트는 자바스크립트의 상위집합이기 때문에 .js파일에 있는 코드는 이미 타입스크립트라고 할수 있다. main.js를 main.ts로 바꿔도 달라지는 것은 없다.

모든 자바스크립트 프로그램이 타입스크립트라는 명제는 참이지만, 그 반대는 성립하지 않는다. 타입스크립트 프로그램이지만 자바스크립트가 아닌 프로그램이 존재한다. 이는 타입스크립트가 타입을 명시하는 추가적인 문법을 가지기 때문이다.

## 타입 시스템의 목표 중 하나는 런타임에 오류를 발생시킬 코드를 미리 찾아내는 것

```ts
function greet(who: string) {
  console.log("Hello", who);
}
```

다음 코드는 타입스크립트 코드다. 이 코드를 자바스크립트를 구동하는 node로 실행하면 오류를 출력한다.

:string 는 타입스크립트에서 쓰이는 타입 구문이다.

```js
let city = "new york";
console.log(city.toUppercase());
```

다음 코드가 .js일 경우 코드를 실행해야 오류를 발생시킨다. 하지만, .ts일 경우 런타임에 오류를 발생시킬 코드를 미리 찾아낸다. -> `// 'toUppercase'속성이 'string' 형식에 없습니다.`

그러나 타입 체커가 모든 오류를 찾아내지는 않는다. 오류가 발생하지는 않지만 의도와 다르게 동작하는 코드도 있다. 다음 자바스크립트 프로그램을 보자.

```js
const states = [
  { name: "a", capital: "Montogomery" },
  { name: "b", capital: "Juneau" },
  { name: "c", capital: "Phoenix" },
];

for (const state of states) {
  console.log(state.position);
}
```

자바스크립트의 경우 오류없이 실행되지만, 루프내의 state.position은 의도된 것이 아니다. 이런 경우 타입체커는 추가적인 타입구문 없이도 오류를 찾아낸다.

## 타입 시스템은 JS 동작을 모델링한다.

```js
const x = 2 + "3";
const y = "2" + 3;
```

이 코드에서 타입체커는 정상으로 인식한다. 두 줄 모두 문자열 "23"이 되는 JS 런타임 동작으로 모델링된다.  
반대로 정상 동작하는 코드에 오류를 표시하기도 한다. 다음은 런타임 오류가 발생하지 않는 코드인데, 타입 체커는 문제점을 표시한다.

```ts
const a = null + 7; // JS: 7, TS: '+'연산자를 ...형식에 적용할 수 없습니다.
const b = [] + 12; // JS: '12',  TS: '+'연산자를 ...형식에 적용할 수 없습니다.
alert("Hello", "TypeScript"); // JS: "Hello", TS: 0-1개의 인수가 필요한데, 2개를 가져왔습니다.
```

JS이 런타임 동작을 모델링하는 것은 TS 타입 시스템의 기본 원칙이다. 그러나 앞에서 봤던 경우들처럼 단순히 런타임 동작을 모델링하는 것뿐만 아니라 의도치 않은 이상한 오류로 이어질 수도 있다는 점까지 고려해야 한다.

# 요약

- TS는 JS의 상위집합이다. 다시 말해서, 모든 JS 프로그램인 이미 TS 프로그램이다.
- TS는 JS 런타임 동작을 모델링하는 타입 시스템을 가지고 있기 때문에 런타임 오류를 발생시키는 코드를 찾아내려고 한다. 그러나 모든 오류를 찾지는 x.
  타입 체커를 통과하면서도 런타임 오류를 발생시키는 코드는 충분히 존재가능
- TS타입 시스템은 전반적으로 JS 동작을 모델링한다. 그러나 잘못된 매개변수 개수로 함수를 호출하는 경우처럼, JS에서는 허용되지만 TS에서는 문제가 되는 경우도 있다.
